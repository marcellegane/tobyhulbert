{"version":3,"file":"static/webpack/static/development/pages/index.js.b99e49d44ebefc9585c9.hot-update.js","sources":["webpack:///./components/Work/index.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport gsap from 'gsap'\nimport ImagesLoaded from 'react-images-loaded'\nimport { WorkItem } from '../WorkItem'\nimport { Work, WorkGrid } from './index.style'\n\nconst workItems = [\n  {\n    artist: 'Nick Cave and the Bad Seeds',\n    project: 'Live Concert 5.1 Mix',\n    role: 'Mixing',\n    imageSrc: 'nc-distant-sky.jpg',\n  },\n  {\n    artist: 'Yussef Dayes x Alfa Mist',\n    project: 'Love is the Message Live Session',\n    role: 'Engineer',\n    imageSrc: 'yussef-dayes.jpg',\n  },\n  {\n    artist: 'Oh Wonder',\n    project: 'Oh Wonder',\n    role: 'Strings Engineer',\n    imageSrc: 'oh-wonder.jpg',\n  },\n  {\n    artist: 'Frank Ocean',\n    project: 'Blonde',\n    role: 'Assistant Engineer',\n    imageSrc: 'frank-ocean-blond.jpg',\n  },\n  {\n    artist: 'Yann Tiersen',\n    project: 'Eusa',\n    role: 'Engineer',\n    imageSrc: 'yann-tiersen-eusa.png',\n  },\n  {\n    artist: 'Kasabian',\n    project: '48.13',\n    role: 'Strings Engineer',\n    imageSrc: 'kasabian-4813.jpg',\n  },\n  {\n    artist: 'The 1975',\n    project: 'A Brief Enquiry Into Online Relationships',\n    role: 'Strings Assistant Engineer',\n    imageSrc: 'the-1975.png',\n  },\n  {\n    artist: 'Airbourne',\n    project: 'Boneshaker',\n    role: 'Engineer',\n    imageSrc: 'airbourne.jpg',\n  },\n  {\n    artist: 'Dirty Heads',\n    project: 'Super Moon',\n    role: 'Engineer, Mixing',\n    imageSrc: 'dirty-heads.jpg',\n  },\n  {\n    artist: 'Keith Urban',\n    project: 'Burden',\n    role: 'Engineer',\n    imageSrc: 'R-12747002-1544654280-2085.jpeg.jpg',\n  },\n  {\n    artist: 'The Highwomen',\n    project: 'The Highwomen',\n    role: 'Assistant Engineer',\n    imageSrc: 'thehighwomen-thehighwomen.jpg',\n  },\n  {\n    artist: 'The Highwomen',\n    project: 'The Chain',\n    role: 'Engineer',\n    imageSrc: 'thehighwomen-thechain.jpg',\n  },\n  {\n    artist: 'Chic / Nile Rodgers',\n    project: \"It's About Time\",\n    role: 'Assistant Engineer',\n    imageSrc: 'chic-time.jpg',\n  },\n  {\n    artist: 'Dawes',\n    project: 'Forthcoming Record',\n    role: '',\n    imageSrc: 'default-grey.png',\n  },\n  {\n    artist: 'Lori McKenna',\n    project: 'Forthcoming Record',\n    role: '',\n    imageSrc: 'default-grey.png',\n  },\n  {\n    artist: 'Anderson East',\n    project: 'Forthcoming Record',\n    role: '',\n    imageSrc: 'default-grey.png',\n  },\n]\n\nconst filmItems = [\n  {\n    artist: \"A Serial Killer's Guide to Life\",\n    role: 'Recording Engineer and Mixer',\n    imageSrc: 'nc-distant-sky.jpg',\n  },\n]\n\nconst ThisWork = () => {\n  const forwardedRef = useRef()\n  const [imagesLoaded, setImagesLoaded] = useState(false)\n  const [workLoaded, setWorkLoaded] = useState(false)\n  const [startLoadAnimation, setStartLoadAnimation] = useState(false)\n\n  const onImagesLoaded = () => {\n    setImagesLoaded(true)\n  }\n\n  setTimeout(() => {\n    setStartLoadAnimation(true)\n  }, 500)\n\n  useEffect(() => {\n    if (imagesLoaded && startLoadAnimation) {\n      const workBlocks = forwardedRef.current\n      const loaders = workBlocks.querySelectorAll('[data-work-loader]')\n      const imgs = workBlocks.querySelectorAll('img')\n      const tl = gsap.timeline({\n        onComplete: () => {\n          setWorkLoaded(true)\n        },\n      })\n\n      tl.to(loaders, {\n        scaleY: 1,\n        duration: 0.4,\n        ease: 'power3.in',\n        stagger: 0.05,\n      })\n      tl.set(imgs, { opacity: 1, stagger: 0.05 }, 0.4)\n      tl.set(loaders, { transformOrigin: '50% 100%', stagger: 0.05 }, 0.4)\n      tl.to(\n        loaders,\n        {\n          scaleY: 0,\n          duration: 0.4,\n          ease: 'power3.in',\n          stagger: 0.05,\n        },\n        0.4\n      )\n    }\n  }, [forwardedRef, imagesLoaded, startLoadAnimation])\n\n  return (\n    <Work id=\"work\" ref={forwardedRef}>\n      <ImagesLoaded done={onImagesLoaded}>\n        <WorkGrid>\n          {workItems.map((workItem, index) => (\n            <WorkItem key={index} content={workItem} loaded={workLoaded} />\n          ))}\n        </WorkGrid>\n\n        <WorkGrid>\n          {filmItems.map((workItem, index) => (\n            <WorkItem key={index} content={workItem} loaded={workLoaded} />\n          ))}\n        </WorkGrid>\n      </ImagesLoaded>\n    </Work>\n  )\n}\n\nThisWork.displayName = 'Work'\n\nexport { ThisWork as Work }\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAQA;AAEA;AACA;AACA;AAHA;AACA;AAMA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAJA;AAQA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAOA;AACA;AACA;;;;;A","sourceRoot":""}